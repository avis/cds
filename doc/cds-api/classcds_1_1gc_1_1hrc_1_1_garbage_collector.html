<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>cds: cds::gc::hrc::GarbageCollector Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">cds
   &#160;<span id="projectnumber">1.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecds.html">cds</a></li><li class="navelem"><a class="el" href="namespacecds_1_1gc.html">gc</a></li><li class="navelem"><a class="el" href="namespacecds_1_1gc_1_1hrc.html">hrc</a></li><li class="navelem"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html">GarbageCollector</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">cds::gc::hrc::GarbageCollector Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Gidenstam's Garbage Collector.  
 <a href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#details">More...</a></p>

<p><code>#include &lt;cds/gc/hrc/hrc.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1internal__state.html">internal_state</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">GC internal statistics.  <a href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1internal__state.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1statistics.html">statistics</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal statistics by events.  <a href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1statistics.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1thread__list__node.html">thread_list_node</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcds_1_1gc_1_1_h_r_c.html" title="Gidenstam&#39;s garbage collector.">HRC</a> control structure of global thread list.  <a href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1thread__list__node.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aeff7921e21f8770ad54ec5cd943a0263"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeff7921e21f8770ad54ec5cd943a0263"></a>
typedef <br class="typebreak"/>
<a class="el" href="classcds_1_1atomicity_1_1event__counter.html">cds::atomicity::event_counter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#aeff7921e21f8770ad54ec5cd943a0263">event_counter</a></td></tr>
<tr class="memdesc:aeff7921e21f8770ad54ec5cd943a0263"><td class="mdescLeft">&#160;</td><td class="mdescRight">event counter type <br/></td></tr>
<tr class="separator:aeff7921e21f8770ad54ec5cd943a0263"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a47d0ebf293e72c74cf7a133848dc9b7f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a47d0ebf293e72c74cf7a133848dc9b7f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a47d0ebf293e72c74cf7a133848dc9b7f">CDS_DECLARE_EXCEPTION</a> (HRCGarbageCollectorEmpty,&quot;Global <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html">cds::gc::hrc::GarbageCollector</a> is NULL&quot;)</td></tr>
<tr class="memdesc:a47d0ebf293e72c74cf7a133848dc9b7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">"Global GC object is NULL" exception <br/></td></tr>
<tr class="separator:a47d0ebf293e72c74cf7a133848dc9b7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abebf41c103ce831e67b57d410ac11077"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abebf41c103ce831e67b57d410ac11077"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#abebf41c103ce831e67b57d410ac11077">CDS_DECLARE_EXCEPTION</a> (HRCTooMany,&quot;Not enough required Hazard Pointer count&quot;)</td></tr>
<tr class="memdesc:abebf41c103ce831e67b57d410ac11077"><td class="mdescLeft">&#160;</td><td class="mdescRight">Not enough required Hazard Pointer count. <br/></td></tr>
<tr class="separator:abebf41c103ce831e67b57d410ac11077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20d6fde44b19180c3f9b4fe00e65c974"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a20d6fde44b19180c3f9b4fe00e65c974"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a20d6fde44b19180c3f9b4fe00e65c974">getHazardPointerCount</a> () const </td></tr>
<tr class="memdesc:a20d6fde44b19180c3f9b4fe00e65c974"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get max count of hazard pointers as defined in <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#ae450a3e7c8bbf331358585920a29e6ed">Construct</a> call. <br/></td></tr>
<tr class="separator:a20d6fde44b19180c3f9b4fe00e65c974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5100fe5921c1fd5be76b40c621984b3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac5100fe5921c1fd5be76b40c621984b3"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#ac5100fe5921c1fd5be76b40c621984b3">getMaxThreadCount</a> () const </td></tr>
<tr class="memdesc:ac5100fe5921c1fd5be76b40c621984b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get max thread count as defined in <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#ae450a3e7c8bbf331358585920a29e6ed">Construct</a> call. <br/></td></tr>
<tr class="separator:ac5100fe5921c1fd5be76b40c621984b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a800f45246f444fef3e390e7dafc8e261"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a800f45246f444fef3e390e7dafc8e261"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a800f45246f444fef3e390e7dafc8e261">getMaxRetiredPtrCount</a> () const </td></tr>
<tr class="memdesc:a800f45246f444fef3e390e7dafc8e261"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get max retired pointers count. It is calculated by the parameters of <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#ae450a3e7c8bbf331358585920a29e6ed">Construct</a> call. <br/></td></tr>
<tr class="separator:a800f45246f444fef3e390e7dafc8e261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58855c22aa8456fb161fc06b66705025"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a58855c22aa8456fb161fc06b66705025"></a>
<a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1internal__state.html">internal_state</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a58855c22aa8456fb161fc06b66705025">getInternalState</a> (<a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1internal__state.html">internal_state</a> &amp;stat) const </td></tr>
<tr class="memdesc:a58855c22aa8456fb161fc06b66705025"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get internal statistics. <br/></td></tr>
<tr class="separator:a58855c22aa8456fb161fc06b66705025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ef19d157b52a5aba0f853974ca0a3f8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ef19d157b52a5aba0f853974ca0a3f8"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a1ef19d157b52a5aba0f853974ca0a3f8">isStatisticsEnabled</a> () const </td></tr>
<tr class="memdesc:a1ef19d157b52a5aba0f853974ca0a3f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if statistics enabled. <br/></td></tr>
<tr class="separator:a1ef19d157b52a5aba0f853974ca0a3f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d7e281526b568ca9c4ffd3dbb6a3e0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a23d7e281526b568ca9c4ffd3dbb6a3e0"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a23d7e281526b568ca9c4ffd3dbb6a3e0">enableStatistics</a> (bool bEnable)</td></tr>
<tr class="memdesc:a23d7e281526b568ca9c4ffd3dbb6a3e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable internal statistics. <br/></td></tr>
<tr class="separator:a23d7e281526b568ca9c4ffd3dbb6a3e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ffd82f07c9b6981fdc5ee25d50af01e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ffd82f07c9b6981fdc5ee25d50af01e"></a>
details::thread_descriptor *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a1ffd82f07c9b6981fdc5ee25d50af01e">allocateHRCThreadDesc</a> (<a class="el" href="classcds_1_1gc_1_1hrc_1_1_thread_g_c.html">ThreadGC</a> *pThreadGC)</td></tr>
<tr class="memdesc:a1ffd82f07c9b6981fdc5ee25d50af01e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates <a class="el" href="classcds_1_1gc_1_1_h_r_c.html" title="Gidenstam&#39;s garbage collector.">HRC</a> thread descriptor (thread interface) <br/></td></tr>
<tr class="separator:a1ffd82f07c9b6981fdc5ee25d50af01e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae995f5d0f716a9752c9626ee75da5202"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae995f5d0f716a9752c9626ee75da5202"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#ae995f5d0f716a9752c9626ee75da5202">retireHRCThreadDesc</a> (details::thread_descriptor *pRec)</td></tr>
<tr class="memdesc:ae995f5d0f716a9752c9626ee75da5202"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retires <a class="el" href="classcds_1_1gc_1_1_h_r_c.html" title="Gidenstam&#39;s garbage collector.">HRC</a> thread descriptor (thread interface) <br/></td></tr>
<tr class="separator:ae995f5d0f716a9752c9626ee75da5202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fc91494dc98258dfa9e2b7dd86f7472"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a3fc91494dc98258dfa9e2b7dd86f7472">Scan</a> (<a class="el" href="classcds_1_1gc_1_1hrc_1_1_thread_g_c.html">ThreadGC</a> *pThreadGC)</td></tr>
<tr class="memdesc:a3fc91494dc98258dfa9e2b7dd86f7472"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main method of GC.  <a href="#a3fc91494dc98258dfa9e2b7dd86f7472">More...</a><br/></td></tr>
<tr class="separator:a3fc91494dc98258dfa9e2b7dd86f7472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4752e02410e1736a920f8f14783351a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa4752e02410e1736a920f8f14783351a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#aa4752e02410e1736a920f8f14783351a">HelpScan</a> (<a class="el" href="classcds_1_1gc_1_1hrc_1_1_thread_g_c.html">ThreadGC</a> *pThreadGC)</td></tr>
<tr class="memdesc:aa4752e02410e1736a920f8f14783351a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manage free thread_descriptor records and move all retired pointers to <code>pThreadGC</code>. <br/></td></tr>
<tr class="separator:aa4752e02410e1736a920f8f14783351a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad76272347d5a053b463bfc45da9da7e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#ad76272347d5a053b463bfc45da9da7e9">CleanUpAll</a> (<a class="el" href="classcds_1_1gc_1_1hrc_1_1_thread_g_c.html">ThreadGC</a> *pThreadGC)</td></tr>
<tr class="memdesc:ad76272347d5a053b463bfc45da9da7e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global clean up.  <a href="#ad76272347d5a053b463bfc45da9da7e9">More...</a><br/></td></tr>
<tr class="separator:ad76272347d5a053b463bfc45da9da7e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ae450a3e7c8bbf331358585920a29e6ed"><td class="memItemLeft" align="right" valign="top">static void CDS_STDCALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#ae450a3e7c8bbf331358585920a29e6ed">Construct</a> (size_t nHazardPtrCount=0, size_t nMaxThreadCount=0, size_t nMaxNodeLinkCount=0, size_t nMaxTransientLinks=0)</td></tr>
<tr class="memdesc:ae450a3e7c8bbf331358585920a29e6ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create global instance of <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html" title="Gidenstam&#39;s Garbage Collector.">GarbageCollector</a>.  <a href="#ae450a3e7c8bbf331358585920a29e6ed">More...</a><br/></td></tr>
<tr class="separator:ae450a3e7c8bbf331358585920a29e6ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0668e003e86fe3279043465a21b75e96"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0668e003e86fe3279043465a21b75e96"></a>
static void CDS_STDCALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a0668e003e86fe3279043465a21b75e96">Destruct</a> ()</td></tr>
<tr class="memdesc:a0668e003e86fe3279043465a21b75e96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy global instance of <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html" title="Gidenstam&#39;s Garbage Collector.">GarbageCollector</a>. <br/></td></tr>
<tr class="separator:a0668e003e86fe3279043465a21b75e96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa67a9c380cb38b234db99fb4792f661c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa67a9c380cb38b234db99fb4792f661c"></a>
static <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html">GarbageCollector</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#aa67a9c380cb38b234db99fb4792f661c">instance</a> ()</td></tr>
<tr class="memdesc:aa67a9c380cb38b234db99fb4792f661c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get global instance of <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html" title="Gidenstam&#39;s Garbage Collector.">GarbageCollector</a>. <br/></td></tr>
<tr class="separator:aa67a9c380cb38b234db99fb4792f661c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab07b6ba9ab81348a404723472d8bcbb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aab07b6ba9ab81348a404723472d8bcbb"></a>
static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#aab07b6ba9ab81348a404723472d8bcbb">isUsed</a> ()</td></tr>
<tr class="memdesc:aab07b6ba9ab81348a404723472d8bcbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if global GC object is constructed and may be used. <br/></td></tr>
<tr class="separator:aab07b6ba9ab81348a404723472d8bcbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac298d2ca1168306c03d2e83ca95dc09e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#ac298d2ca1168306c03d2e83ca95dc09e">checkHPCount</a> (unsigned int nRequiredCount)</td></tr>
<tr class="memdesc:ac298d2ca1168306c03d2e83ca95dc09e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks that required hazard pointer count <code>nRequiredCount</code> is less or equal then max hazard pointer count.  <a href="#ac298d2ca1168306c03d2e83ca95dc09e">More...</a><br/></td></tr>
<tr class="separator:ac298d2ca1168306c03d2e83ca95dc09e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a9fe1ed87125eef681d6d818115335a92"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9fe1ed87125eef681d6d818115335a92"></a>
<a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1thread__list__node.html">thread_list_node</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a9fe1ed87125eef681d6d818115335a92">newHRCThreadDesc</a> ()</td></tr>
<tr class="memdesc:a9fe1ed87125eef681d6d818115335a92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates new <a class="el" href="classcds_1_1gc_1_1_h_r_c.html" title="Gidenstam&#39;s garbage collector.">HRC</a> control structure from the heap (using operator new) <br/></td></tr>
<tr class="separator:a9fe1ed87125eef681d6d818115335a92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3234edf6cfefdc74b05c0bdb3fc55b6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae3234edf6cfefdc74b05c0bdb3fc55b6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#ae3234edf6cfefdc74b05c0bdb3fc55b6">deleteHRCThreadDesc</a> (<a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1thread__list__node.html">thread_list_node</a> *pNode)</td></tr>
<tr class="memdesc:ae3234edf6cfefdc74b05c0bdb3fc55b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes <code>pNode</code> control structure. <br/></td></tr>
<tr class="separator:ae3234edf6cfefdc74b05c0bdb3fc55b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af998da101e55d2553558dd2218e507cd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af998da101e55d2553558dd2218e507cd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#af998da101e55d2553558dd2218e507cd">clearHRCThreadDesc</a> (<a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1thread__list__node.html">thread_list_node</a> *pNode)</td></tr>
<tr class="memdesc:af998da101e55d2553558dd2218e507cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears retired nodes of <code>pNode</code> control structure. <br/></td></tr>
<tr class="separator:af998da101e55d2553558dd2218e507cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bdfd85bb4b2864fa29825b5544e5e4b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0bdfd85bb4b2864fa29825b5544e5e4b"></a>
<a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1thread__list__node.html">thread_list_node</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a0bdfd85bb4b2864fa29825b5544e5e4b">getHRCThreadDescForCurrentThread</a> () const </td></tr>
<tr class="memdesc:a0bdfd85bb4b2864fa29825b5544e5e4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds <a class="el" href="classcds_1_1gc_1_1_h_r_c.html" title="Gidenstam&#39;s garbage collector.">HRC</a> control structure for current thread. <br/></td></tr>
<tr class="separator:a0bdfd85bb4b2864fa29825b5544e5e4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aa5971b28a46abeca6cb741cc84710e6d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa5971b28a46abeca6cb741cc84710e6d"></a>
std::atomic&lt; <a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1thread__list__node.html">thread_list_node</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#aa5971b28a46abeca6cb741cc84710e6d">m_pListHead</a></td></tr>
<tr class="memdesc:aa5971b28a46abeca6cb741cc84710e6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Head of thread list. <br/></td></tr>
<tr class="separator:aa5971b28a46abeca6cb741cc84710e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade14f512f6274ce9ccb023c2462512b2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade14f512f6274ce9ccb023c2462512b2"></a>
<a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1statistics.html">statistics</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#ade14f512f6274ce9ccb023c2462512b2">m_Stat</a></td></tr>
<tr class="memdesc:ade14f512f6274ce9ccb023c2462512b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal statistics. <br/></td></tr>
<tr class="separator:ade14f512f6274ce9ccb023c2462512b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67d19ae2923bddf4323dbfec75ad23e2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a67d19ae2923bddf4323dbfec75ad23e2"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a67d19ae2923bddf4323dbfec75ad23e2">m_bStatEnabled</a></td></tr>
<tr class="memdesc:a67d19ae2923bddf4323dbfec75ad23e2"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em>true</em> - accumulate internal statistics <br/></td></tr>
<tr class="separator:a67d19ae2923bddf4323dbfec75ad23e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfd39769bf0ef8cf6db02a8588ecab9b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abfd39769bf0ef8cf6db02a8588ecab9b"></a>
const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#abfd39769bf0ef8cf6db02a8588ecab9b">m_nHazardPointerCount</a></td></tr>
<tr class="memdesc:abfd39769bf0ef8cf6db02a8588ecab9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">max count of thread's hazard pointer <br/></td></tr>
<tr class="separator:abfd39769bf0ef8cf6db02a8588ecab9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd0829b1ba90e8253c51415c8f6440f2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acd0829b1ba90e8253c51415c8f6440f2"></a>
const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#acd0829b1ba90e8253c51415c8f6440f2">m_nMaxThreadCount</a></td></tr>
<tr class="memdesc:acd0829b1ba90e8253c51415c8f6440f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">max count of thread <br/></td></tr>
<tr class="separator:acd0829b1ba90e8253c51415c8f6440f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32ec59fe98328fb8e4db869f77ce1b4a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a32ec59fe98328fb8e4db869f77ce1b4a"></a>
const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a32ec59fe98328fb8e4db869f77ce1b4a">m_nMaxRetiredPtrCount</a></td></tr>
<tr class="memdesc:a32ec59fe98328fb8e4db869f77ce1b4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">max count of retired ptr per thread <br/></td></tr>
<tr class="separator:a32ec59fe98328fb8e4db869f77ce1b4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a424fdf62e4498028445436eb1c6f9cc3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a424fdf62e4498028445436eb1c6f9cc3"></a>
static <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html">GarbageCollector</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a424fdf62e4498028445436eb1c6f9cc3">m_pGC</a></td></tr>
<tr class="memdesc:a424fdf62e4498028445436eb1c6f9cc3"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcds_1_1gc_1_1_h_r_c.html" title="Gidenstam&#39;s garbage collector.">HRC</a> garbage collector instance. <br/></td></tr>
<tr class="separator:a424fdf62e4498028445436eb1c6f9cc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Gidenstam's Garbage Collector. </p>
<p>This GC combines Hazard Pointers (<a class="el" href="classcds_1_1gc_1_1_h_p.html" title="Hazard Pointer garbage collector.">HP</a>) reclamation method by Michael's and the well-known reference counting reclamation schema. The <a class="el" href="classcds_1_1gc_1_1_h_p.html" title="Hazard Pointer garbage collector.">HP</a> method is light-weight algorithm guarding local references only. Reference counting schema is harder than <a class="el" href="classcds_1_1gc_1_1_h_p.html" title="Hazard Pointer garbage collector.">HP</a> with relation to the performance but can guard global references too. Using Gidenstam's GC it can be possible to safely introduce to the lock-free data structures very useful concepts like iterators.</p>
<p><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html" title="Gidenstam&#39;s Garbage Collector.">GarbageCollector</a> is the singleton. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac298d2ca1168306c03d2e83ca95dc09e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cds::gc::hrc::GarbageCollector::checkHPCount </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nRequiredCount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks that required hazard pointer count <code>nRequiredCount</code> is less or equal then max hazard pointer count. </p>
<p>If <code>nRequiredCount</code> &gt; <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a20d6fde44b19180c3f9b4fe00e65c974" title="Get max count of hazard pointers as defined in Construct call.">getHazardPointerCount()</a> then the exception HZPTooMany is thrown </p>

</div>
</div>
<a class="anchor" id="ad76272347d5a053b463bfc45da9da7e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cds::gc::hrc::GarbageCollector::CleanUpAll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_thread_g_c.html">ThreadGC</a> *&#160;</td>
          <td class="paramname"><em>pThreadGC</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Global clean up. </p>
<p>The procedure try to remove redundant claimed references from links in deleted nodes that has been deleted by any thread. <code>pThreadGC</code> - <a class="el" href="classcds_1_1gc_1_1hrc_1_1_thread_g_c.html" title="Thread&#39;s Garbage collector.">ThreadGC</a> of calling thread </p>

</div>
</div>
<a class="anchor" id="ae450a3e7c8bbf331358585920a29e6ed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void CDS_STDCALL cds::gc::hrc::GarbageCollector::Construct </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nHazardPtrCount</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nMaxThreadCount</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nMaxNodeLinkCount</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nMaxTransientLinks</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create global instance of <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html" title="Gidenstam&#39;s Garbage Collector.">GarbageCollector</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nHazardPtrCount</td><td>number of hazard pointers </td></tr>
    <tr><td class="paramname">nMaxThreadCount</td><td>max threads count </td></tr>
    <tr><td class="paramname">nMaxNodeLinkCount</td><td>max number of links a <a class="el" href="classcds_1_1gc_1_1hrc_1_1_container_node.html">ContainerNode</a> can contain </td></tr>
    <tr><td class="paramname">nMaxTransientLinks</td><td>max number of links in live nodes that may transiently point to a deleted node </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3fc91494dc98258dfa9e2b7dd86f7472"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cds::gc::hrc::GarbageCollector::Scan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_thread_g_c.html">ThreadGC</a> *&#160;</td>
          <td class="paramname"><em>pThreadGC</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The main method of GC. </p>
<p>The procedure searches through all not yet reclaimed nodes deleted by this thread and reclaim only those that does not have any matching hazard pointers and do not have any counted references from any links inside of nodes. <em>Scan</em> is called in context of thread owned <code>pRec</code>. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>cds/gc/hrc/hrc.h</li>
</ul>
</div><!-- contents -->
		<hr/>
		<div align="right">
			<b>cds</b> <b>1.4.0</b> 
			Developed by <i>Maxim Khiszinsky aka khizmax</i> 2007 - 2012
			<br/>
			<i>Autogenerated Mon May 20 2013 00:37:58 by Doxygen 1.8.3.1</i>
		</div>
	</BODY>
</HTML>
