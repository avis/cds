<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>cds: cds::intrusive::MSQueue&lt; GC, T, Options &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">cds
   &#160;<span id="projectnumber">1.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecds.html">cds</a></li><li class="navelem"><a class="el" href="namespacecds_1_1intrusive.html">intrusive</a></li><li class="navelem"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html">MSQueue</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">cds::intrusive::MSQueue&lt; GC, T, Options &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__cds__intrusive__queue.html">Queues</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Michael &amp; Scott's lock-free queue (intrusive variant)  
 <a href="classcds_1_1intrusive_1_1_m_s_queue.html#details">More...</a></p>

<p><code>#include &lt;cds/intrusive/msqueue.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcds_1_1intrusive_1_1_m_s_queue_1_1rebind.html">rebind</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rebind template arguments.  <a href="structcds_1_1intrusive_1_1_m_s_queue_1_1rebind.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:acd721bc93334f12a2ea5f883f27be082"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acd721bc93334f12a2ea5f883f27be082"></a>
typedef T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#acd721bc93334f12a2ea5f883f27be082">value_type</a></td></tr>
<tr class="memdesc:acd721bc93334f12a2ea5f883f27be082"><td class="mdescLeft">&#160;</td><td class="mdescRight">type of value stored in the queue <br/></td></tr>
<tr class="separator:acd721bc93334f12a2ea5f883f27be082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e7d4cfaa1a2a7d03650e247963b67cb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4e7d4cfaa1a2a7d03650e247963b67cb"></a>
typedef options::hook&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#a4e7d4cfaa1a2a7d03650e247963b67cb">hook</a></td></tr>
<tr class="memdesc:a4e7d4cfaa1a2a7d03650e247963b67cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">hook type <br/></td></tr>
<tr class="separator:a4e7d4cfaa1a2a7d03650e247963b67cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a369fc4eb3edc57da92cac0060b6559f0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a369fc4eb3edc57da92cac0060b6559f0"></a>
typedef hook::node_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#a369fc4eb3edc57da92cac0060b6559f0">node_type</a></td></tr>
<tr class="memdesc:a369fc4eb3edc57da92cac0060b6559f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">node type <br/></td></tr>
<tr class="separator:a369fc4eb3edc57da92cac0060b6559f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4681b4a2b07dba625377d3d2cb3b0dc3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4681b4a2b07dba625377d3d2cb3b0dc3"></a>
typedef options::disposer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#a4681b4a2b07dba625377d3d2cb3b0dc3">disposer</a></td></tr>
<tr class="memdesc:a4681b4a2b07dba625377d3d2cb3b0dc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">disposer used <br/></td></tr>
<tr class="separator:a4681b4a2b07dba625377d3d2cb3b0dc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78f442e8918a8144799684b80a5889a3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a78f442e8918a8144799684b80a5889a3"></a>
typedef <a class="el" href="structcds_1_1intrusive_1_1get__node__traits.html">get_node_traits</a><br class="typebreak"/>
&lt; <a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#acd721bc93334f12a2ea5f883f27be082">value_type</a>, <a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#a369fc4eb3edc57da92cac0060b6559f0">node_type</a>, <a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#a4e7d4cfaa1a2a7d03650e247963b67cb">hook</a> &gt;<br class="typebreak"/>
::type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#a78f442e8918a8144799684b80a5889a3">node_traits</a></td></tr>
<tr class="memdesc:a78f442e8918a8144799684b80a5889a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">node traits <br/></td></tr>
<tr class="separator:a78f442e8918a8144799684b80a5889a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4042f014263c30fc101e5063d8caf437"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4042f014263c30fc101e5063d8caf437"></a>
typedef <br class="typebreak"/>
<a class="el" href="structcds_1_1intrusive_1_1single__link_1_1get__link__checker.html">single_link::get_link_checker</a><br class="typebreak"/>
&lt; <a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#a369fc4eb3edc57da92cac0060b6559f0">node_type</a>, <br class="typebreak"/>
options::link_checker &gt;::type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#a4042f014263c30fc101e5063d8caf437">link_checker</a></td></tr>
<tr class="memdesc:a4042f014263c30fc101e5063d8caf437"><td class="mdescLeft">&#160;</td><td class="mdescRight">link checker <br/></td></tr>
<tr class="separator:a4042f014263c30fc101e5063d8caf437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bdde865363c090839fc819f4ad06110"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0bdde865363c090839fc819f4ad06110"></a>
typedef GC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#a0bdde865363c090839fc819f4ad06110">gc</a></td></tr>
<tr class="memdesc:a0bdde865363c090839fc819f4ad06110"><td class="mdescLeft">&#160;</td><td class="mdescRight">Garbage collector. <br/></td></tr>
<tr class="separator:a0bdde865363c090839fc819f4ad06110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6132d6390dfe23c8ba0d7b6707c6d03e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6132d6390dfe23c8ba0d7b6707c6d03e"></a>
typedef options::back_off&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#a6132d6390dfe23c8ba0d7b6707c6d03e">back_off</a></td></tr>
<tr class="memdesc:a6132d6390dfe23c8ba0d7b6707c6d03e"><td class="mdescLeft">&#160;</td><td class="mdescRight">back-off strategy <br/></td></tr>
<tr class="separator:a6132d6390dfe23c8ba0d7b6707c6d03e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab0ba74e32070f992796de1372ea8efe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aab0ba74e32070f992796de1372ea8efe"></a>
typedef options::item_counter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#aab0ba74e32070f992796de1372ea8efe">item_counter</a></td></tr>
<tr class="memdesc:aab0ba74e32070f992796de1372ea8efe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Item counting policy used. <br/></td></tr>
<tr class="separator:aab0ba74e32070f992796de1372ea8efe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac59db8c8fddc3eb2454220e3f3aa76ed"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac59db8c8fddc3eb2454220e3f3aa76ed"></a>
typedef options::stat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#ac59db8c8fddc3eb2454220e3f3aa76ed">stat</a></td></tr>
<tr class="memdesc:ac59db8c8fddc3eb2454220e3f3aa76ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal statistics policy used. <br/></td></tr>
<tr class="separator:ac59db8c8fddc3eb2454220e3f3aa76ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a968d1469fa3fd7828477088c8a1702b2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a968d1469fa3fd7828477088c8a1702b2"></a>
typedef options::memory_model&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#a968d1469fa3fd7828477088c8a1702b2">memory_model</a></td></tr>
<tr class="memdesc:a968d1469fa3fd7828477088c8a1702b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Memory ordering. See <a class="el" href="structcds_1_1opt_1_1memory__model.html" title="[type-option] Option setter for C++ memory model">cds::opt::memory_model</a> option. <br/></td></tr>
<tr class="separator:a968d1469fa3fd7828477088c8a1702b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acc1db6a36a76714893434c3c4e873d81"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acc1db6a36a76714893434c3c4e873d81"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#acc1db6a36a76714893434c3c4e873d81">MSQueue</a> ()</td></tr>
<tr class="memdesc:acc1db6a36a76714893434c3c4e873d81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes empty queue. <br/></td></tr>
<tr class="separator:acc1db6a36a76714893434c3c4e873d81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf9f0ed7914092256dbbba515ab24d21"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#acf9f0ed7914092256dbbba515ab24d21">~MSQueue</a> ()</td></tr>
<tr class="memdesc:acf9f0ed7914092256dbbba515ab24d21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor clears the queue.  <a href="#acf9f0ed7914092256dbbba515ab24d21">More...</a><br/></td></tr>
<tr class="separator:acf9f0ed7914092256dbbba515ab24d21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42e34e1947130d3af4395fb24b5b49f1"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#a42e34e1947130d3af4395fb24b5b49f1">size</a> () const </td></tr>
<tr class="memdesc:a42e34e1947130d3af4395fb24b5b49f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns queue's item count.  <a href="#a42e34e1947130d3af4395fb24b5b49f1">More...</a><br/></td></tr>
<tr class="separator:a42e34e1947130d3af4395fb24b5b49f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3544c68c5e8cbacd62b8e7e3baa20f6e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3544c68c5e8cbacd62b8e7e3baa20f6e"></a>
const <a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#ac59db8c8fddc3eb2454220e3f3aa76ed">stat</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#a3544c68c5e8cbacd62b8e7e3baa20f6e">statistics</a> () const </td></tr>
<tr class="memdesc:a3544c68c5e8cbacd62b8e7e3baa20f6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns reference to internal statistics. <br/></td></tr>
<tr class="separator:a3544c68c5e8cbacd62b8e7e3baa20f6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9bb57ab66c617ca8e10b6b7fca43d39"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#ae9bb57ab66c617ca8e10b6b7fca43d39">enqueue</a> (<a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#acd721bc93334f12a2ea5f883f27be082">value_type</a> &amp;val)</td></tr>
<tr class="memdesc:ae9bb57ab66c617ca8e10b6b7fca43d39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueues <code>val</code> value into the queue.  <a href="#ae9bb57ab66c617ca8e10b6b7fca43d39">More...</a><br/></td></tr>
<tr class="separator:ae9bb57ab66c617ca8e10b6b7fca43d39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f044f55683dc5adcb19a8bc60aebeba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#acd721bc93334f12a2ea5f883f27be082">value_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#a9f044f55683dc5adcb19a8bc60aebeba">dequeue</a> ()</td></tr>
<tr class="memdesc:a9f044f55683dc5adcb19a8bc60aebeba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dequeues a value from the queue.  <a href="#a9f044f55683dc5adcb19a8bc60aebeba">More...</a><br/></td></tr>
<tr class="separator:a9f044f55683dc5adcb19a8bc60aebeba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25a5c4cee3226acf4823280533702221"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a25a5c4cee3226acf4823280533702221"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#a25a5c4cee3226acf4823280533702221">push</a> (<a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#acd721bc93334f12a2ea5f883f27be082">value_type</a> &amp;val)</td></tr>
<tr class="memdesc:a25a5c4cee3226acf4823280533702221"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synonym for <a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#cds_intrusive_MSQueue_enqueue">enqueue</a> function. <br/></td></tr>
<tr class="separator:a25a5c4cee3226acf4823280533702221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9e453d1adca3e0fc8de11951ae54b4a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af9e453d1adca3e0fc8de11951ae54b4a"></a>
<a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#acd721bc93334f12a2ea5f883f27be082">value_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#af9e453d1adca3e0fc8de11951ae54b4a">pop</a> ()</td></tr>
<tr class="memdesc:af9e453d1adca3e0fc8de11951ae54b4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synonym for <a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#cds_intrusive_MSQueue_dequeue">dequeue</a> function. <br/></td></tr>
<tr class="separator:af9e453d1adca3e0fc8de11951ae54b4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a6afbfe38f835c4a608c8aec10f23d3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7a6afbfe38f835c4a608c8aec10f23d3"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#a7a6afbfe38f835c4a608c8aec10f23d3">empty</a> () const </td></tr>
<tr class="memdesc:a7a6afbfe38f835c4a608c8aec10f23d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the queue is empty. <br/></td></tr>
<tr class="separator:a7a6afbfe38f835c4a608c8aec10f23d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab096e1de65a30d87a4bad2bb1f16cc71"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#ab096e1de65a30d87a4bad2bb1f16cc71">clear</a> ()</td></tr>
<tr class="memdesc:ab096e1de65a30d87a4bad2bb1f16cc71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the queue.  <a href="#ab096e1de65a30d87a4bad2bb1f16cc71">More...</a><br/></td></tr>
<tr class="separator:ab096e1de65a30d87a4bad2bb1f16cc71"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename GC, typename T, typename... Options&gt;<br/>
class cds::intrusive::MSQueue&lt; GC, T, Options &gt;</h3>

<p>Michael &amp; Scott's lock-free queue (intrusive variant) </p>
<p>Implementation of well-known Michael &amp; Scott's queue algorithm.</p>
<dl class="section user"><dt>Source:</dt><dd>[1998] Maged Michael, Michael Scott "Simple, fast, and practical non-blocking and blocking
           concurrent queue algorithms"</dd></dl>
<p>Template arguments:</p>
<ul>
<li><code>GC</code> - garbage collector type: <a class="el" href="classcds_1_1gc_1_1_h_p.html" title="Hazard Pointer garbage collector.">gc::HP</a>, <a class="el" href="classcds_1_1gc_1_1_h_r_c.html" title="Gidenstam&#39;s garbage collector.">gc::HRC</a>, <a class="el" href="classcds_1_1gc_1_1_p_t_b.html" title="Pass-the-Buck garbage collector.">gc::PTB</a></li>
<li><code>T</code> - type to be stored in the queue, should be convertible to <a class="el" href="structcds_1_1intrusive_1_1single__link_1_1node.html">single_link::node</a></li>
<li><code>Options</code> - options</li>
</ul>
<p>Type of node: <a class="el" href="structcds_1_1intrusive_1_1single__link_1_1node.html">single_link::node</a></p>
<p><code>Options</code> are:</p>
<ul>
<li><a class="el" href="structcds_1_1intrusive_1_1opt_1_1hook.html" title="Hook option.">opt::hook</a> - hook used. Possible values are: <a class="el" href="structcds_1_1intrusive_1_1single__link_1_1base__hook.html" title="Base hook.">single_link::base_hook</a>, <a class="el" href="structcds_1_1intrusive_1_1single__link_1_1member__hook.html" title="Member hook.">single_link::member_hook</a>, <a class="el" href="structcds_1_1intrusive_1_1single__link_1_1traits__hook.html" title="Traits hook.">single_link::traits_hook</a>. If the option is not specified, <code>single_link::base_hook&lt;&gt;</code> is used. For Gidenstam's <a class="el" href="classcds_1_1gc_1_1_h_r_c.html" title="Gidenstam&#39;s garbage collector.">gc::HRC</a>, only <a class="el" href="structcds_1_1intrusive_1_1single__link_1_1base__hook.html" title="Base hook.">single_link::base_hook</a> is supported.</li>
<li><a class="el" href="structcds_1_1opt_1_1back__off.html" title="[type-option] Back-off strategy option setter">opt::back_off</a> - back-off strategy used. If the option is not specified, the <a class="el" href="structcds_1_1backoff_1_1empty.html" title="Empty backoff strategy. Do nothing.">cds::backoff::empty</a> is used.</li>
<li><a class="el" href="structcds_1_1intrusive_1_1opt_1_1disposer.html" title="Item disposer option setter.">opt::disposer</a> - the functor used for dispose removed items. Default is <a class="el" href="structcds_1_1intrusive_1_1opt_1_1v_1_1empty__disposer.html" title="Empty item disposer.">opt::v::empty_disposer</a>. This option is used in <a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#a9f044f55683dc5adcb19a8bc60aebeba">dequeue</a> function.</li>
<li><a class="el" href="structcds_1_1intrusive_1_1opt_1_1link__checker.html" title="Link checking.">opt::link_checker</a> - the type of node's link fields checking. Default is <a class="el" href="namespacecds_1_1intrusive_1_1opt.html#a106b4114c23f57e01b00e8bdeca3e5b3a97917de795ef08c17c8f29826c8c2d38">opt::debug_check_link</a> Note: for <a class="el" href="classcds_1_1gc_1_1_h_r_c.html" title="Gidenstam&#39;s garbage collector.">gc::HRC</a> garbage collector, link checking policy is always selected as <a class="el" href="namespacecds_1_1intrusive_1_1opt.html#a106b4114c23f57e01b00e8bdeca3e5b3aa22c8e6cc23bacdf4cc254f285d83fbe">opt::always_check_link</a>.</li>
<li><a class="el" href="structcds_1_1opt_1_1item__counter.html" title="[type-option] Option setter for item counting">opt::item_counter</a> - the type of item counting feature. Default is <a class="el" href="classcds_1_1atomicity_1_1empty__item__counter.html">atomicity::empty_item_counter</a> (no item counting feature)</li>
<li><a class="el" href="structcds_1_1opt_1_1stat.html" title="[type-option] Generic option setter for statisitcs">opt::stat</a> - the type to gather internal statistics. Possible option value are: <a class="el" href="structcds_1_1intrusive_1_1queue__stat.html">queue_stat</a>, <a class="el" href="structcds_1_1intrusive_1_1queue__dummy__stat.html">queue_dummy_stat</a>, user-provided class that supports <a class="el" href="structcds_1_1intrusive_1_1queue__stat.html" title="Queue internal statistics. May be used for debugging or profiling.">queue_stat</a> interface. Default is <a class="el" href="structcds_1_1intrusive_1_1queue__dummy__stat.html">queue_dummy_stat</a>.</li>
<li><a class="el" href="structcds_1_1opt_1_1alignment.html" title="[value-option] Alignment option setter">opt::alignment</a> - the alignment for internal queue data. Default is <a class="el" href="namespacecds_1_1opt.html#aa645d9d6fea0b1355513b3608efd6d9ca60b877c6bb50b49d022ecfce77564167" title="use cache line size defined in cds/user_setup/cache_line.h">opt::cache_line_alignment</a></li>
<li><a class="el" href="structcds_1_1opt_1_1memory__model.html" title="[type-option] Option setter for C++ memory model">opt::memory_model</a> - C++ memory ordering model. Can be <a class="el" href="structcds_1_1opt_1_1v_1_1relaxed__ordering.html" title="Relaxed memory ordering model.">opt::v::relaxed_ordering</a> (relaxed memory model, the default) or <a class="el" href="structcds_1_1opt_1_1v_1_1sequential__consistent.html" title="Sequential consistent memory ordering model.">opt::v::sequential_consistent</a> (sequentially consisnent memory model).</li>
</ul>
<p>Garbage collecting schema <code>GC</code> must be consistent with the <a class="el" href="structcds_1_1intrusive_1_1single__link_1_1node.html" title="Container&#39;s node.">single_link::node</a> GC.</p>
<dl class="section user"><dt>About item disposing</dt><dd>The Michael &amp; Scott's queue algo has a key feature: even if the queue is empty it contains one item that is "dummy" one from the standpoint of the algo. See <a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#a9f044f55683dc5adcb19a8bc60aebeba">dequeue</a> function doc for explanation.</dd></dl>
<dl class="section user"><dt>Examples</dt><dd><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;cds/intrusive/msqueue.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cds/gc/hp.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">namespace </span>ci = cds::inrtusive ;</div>
<div class="line"><span class="keyword">typedef</span> cds::gc::HP hp_gc;</div>
<div class="line"></div>
<div class="line"><span class="comment">// MSQueue with Hazard Pointer garbage collector, base hook + item disposer:</span></div>
<div class="line"><span class="keyword">struct </span>Foo: <span class="keyword">public</span> ci::single_link::node&lt; hp_gc &gt;</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Your data</span></div>
<div class="line">    ...</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">// Disposer for Foo struct just deletes the object passed in</span></div>
<div class="line"><span class="keyword">struct </span>fooDisposer {</div>
<div class="line">    <span class="keywordtype">void</span> operator()( Foo * p )</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">delete</span> p    ;</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">typedef</span> ci::MSQueue&lt; hp_gc,</div>
<div class="line">    Foo</div>
<div class="line">    ,ci::opt::hook&lt;</div>
<div class="line">        ci::single_link::base_hook&lt; ci::opt::gc&lt;hp_gc&gt; &gt;</div>
<div class="line">    &gt;</div>
<div class="line">    ,ci::opt::disposer&lt; fooDisposer &gt;</div>
<div class="line">&gt; fooQueue  ;</div>
<div class="line"></div>
<div class="line"><span class="comment">// MSQueue with Hazard Pointer garbage collector,</span></div>
<div class="line"><span class="comment">// member hook + item disposer + item counter,</span></div>
<div class="line"><span class="comment">// without alignment of internal queue data:</span></div>
<div class="line"><span class="keyword">struct </span>Bar</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Your data</span></div>
<div class="line">    ...</div>
<div class="line">    ci::single_link::node&lt; hp_gc &gt; hMember ;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">typedef</span> ci::MSQueue&lt; hp_gc,</div>
<div class="line">    Foo</div>
<div class="line">    ,ci::opt::hook&lt;</div>
<div class="line">        ci::single_link::member_hook&lt;</div>
<div class="line">            offsetof(Bar, hMember)</div>
<div class="line">            ,ci::opt::gc&lt;hp_gc&gt;</div>
<div class="line">        &gt;</div>
<div class="line">    &gt;</div>
<div class="line">    ,ci::opt::disposer&lt; fooDisposer &gt;</div>
<div class="line">    ,cds::opt::item_counter&lt; cds::atomicity::item_counter &gt;</div>
<div class="line">    ,<a class="code" href="structcds_1_1opt_1_1alignment.html" title="[value-option] Alignment option setter">cds::opt::alignment&lt; cds::opt::no_special_alignment &gt;</a></div>
<div class="line">&gt; barQueue  ;</div>
</div><!-- fragment --> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="acf9f0ed7914092256dbbba515ab24d21"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename GC, typename T, typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html">cds::intrusive::MSQueue</a>&lt; GC, T, Options &gt;::~<a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html">MSQueue</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor clears the queue. </p>
<p>Since the Michael &amp; Scott queue contains at least one item even if the queue is empty, the destructor may call item disposer. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab096e1de65a30d87a4bad2bb1f16cc71"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename GC, typename T, typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html">cds::intrusive::MSQueue</a>&lt; GC, T, Options &gt;::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clear the queue. </p>
<p>The function repeatedly calls <a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#a9f044f55683dc5adcb19a8bc60aebeba">dequeue</a> until it returns <code>NULL</code>. The disposer defined in template <code>Options</code> is called for each item that can be safely disposed. </p>

</div>
</div>
<a class="anchor" id="a9f044f55683dc5adcb19a8bc60aebeba"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename GC, typename T, typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#acd721bc93334f12a2ea5f883f27be082">value_type</a>* <a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html">cds::intrusive::MSQueue</a>&lt; GC, T, Options &gt;::dequeue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dequeues a value from the queue. </p>
<p><a class="anchor" id="cds_intrusive_MSQueue_dequeue"></a> If the queue is empty the function returns <code>NULL</code>.</p>
<dl class="section user"><dt>Warning</dt><dd>The queue algorithm has following feature: when <code>dequeue</code> is called, the item returning is still queue's top, and previous top is disposed:</dd></dl>
<div class="fragment"><div class="line">      before dequeuing         Dequeue               after dequeuing</div>
<div class="line">      +------------------+                           +------------------+</div>
<div class="line">Top -&gt;|      Item 1      |  -&gt; Dispose Item 1        |      Item 2      | &lt;- Top</div>
<div class="line">      +------------------+                           +------------------+</div>
<div class="line">      |      Item 2      |  -&gt; Return Item 2         |       ...        |</div>
<div class="line">      +------------------+</div>
<div class="line">      |       ...        |</div>
</div><!-- fragment --><p><code>dequeue</code> function returns Item 2, that becomes new top of queue, and calls the disposer for Item 1, that was queue's top on function entry. Thus, you cannot manually delete item returned because it is still included in item sequence and it has valuable link field that must not be zeroed. The item may be deleted only in disposer call. </p>

</div>
</div>
<a class="anchor" id="ae9bb57ab66c617ca8e10b6b7fca43d39"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename GC, typename T, typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html">cds::intrusive::MSQueue</a>&lt; GC, T, Options &gt;::enqueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#acd721bc93334f12a2ea5f883f27be082">value_type</a> &amp;&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enqueues <code>val</code> value into the queue. </p>
<p><a class="anchor" id="cds_intrusive_MSQueue_enqueue"></a>The function always returns <code>true</code>. </p>

</div>
</div>
<a class="anchor" id="a42e34e1947130d3af4395fb24b5b49f1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename GC, typename T, typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html">cds::intrusive::MSQueue</a>&lt; GC, T, Options &gt;::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns queue's item count. </p>
<p>The value returned depends on <a class="el" href="structcds_1_1opt_1_1item__counter.html" title="[type-option] Option setter for item counting">opt::item_counter</a> option. For <a class="el" href="classcds_1_1atomicity_1_1empty__item__counter.html" title="Empty item counter.">atomicity::empty_item_counter</a>, this function always returns 0.</p>
<p><b>Warning</b>: even if you use real item counter and it returns 0, this fact is not mean that the queue is empty. To check queue emptyness use <a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html#a7a6afbfe38f835c4a608c8aec10f23d3">empty()</a> method. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>cds/intrusive/msqueue.h</li>
</ul>
</div><!-- contents -->
		<hr/>
		<div align="right">
			<b>cds</b> <b>1.4.0</b> 
			Developed by <i>Maxim Khiszinsky aka khizmax</i> 2007 - 2012
			<br/>
			<i>Autogenerated Mon May 20 2013 00:37:59 by Doxygen 1.8.3.1</i>
		</div>
	</BODY>
</HTML>
